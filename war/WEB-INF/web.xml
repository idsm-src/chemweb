<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
              http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
         version="2.5"
         xmlns="http://java.sun.com/xml/ns/javaee">



  <!-- Cache Filter -->
  <filter>
    <filter-name>CacheFilter</filter-name>
    <filter-class>cz.iocb.chemweb.server.filters.cache.CacheFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>CacheFilter</filter-name>
    <url-pattern>*</url-pattern>
  </filter-mapping>


  <!-- Log Filter -->
  <filter>
    <filter-name>LogFilter</filter-name>
    <filter-class>cz.iocb.chemweb.server.filters.log.LogFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>LogFilter</filter-name>
    <url-pattern>*</url-pattern>
  </filter-mapping>


  <!-- Log Filter -->
  <filter>
    <filter-name>ChemwebPiwikFilter</filter-name>
    <filter-class>cz.iocb.chemweb.server.filters.piwik.PiwikFilter</filter-class>
    <init-param>
      <param-name>siteId</param-name>
      <param-value>1</param-value>
    </init-param>
    <init-param>
      <param-name>hostUrl</param-name>
      <param-value>http://localhost/piwik/piwik.php</param-value>
    </init-param>
    <init-param>
      <param-name>authToken</param-name>
      <param-value>piwik.properties</param-value>
    </init-param>
    <init-param>
      <param-name>rpc</param-name>
      <param-value>true</param-value>
    </init-param>
  </filter>
  <filter-mapping>
    <filter-name>ChemwebPiwikFilter</filter-name>
    <url-pattern>/chemweb/query</url-pattern>
    <url-pattern>/chemweb/details</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>ChebiEndpointPiwikFilter</filter-name>
    <filter-class>cz.iocb.chemweb.server.filters.piwik.PiwikFilter</filter-class>
    <init-param>
      <param-name>siteId</param-name>
      <param-value>1</param-value>
    </init-param>
    <init-param>
      <param-name>hostUrl</param-name>
      <param-value>http://localhost/piwik/piwik.php</param-value>
    </init-param>
    <init-param>
      <param-name>authToken</param-name>
      <param-value>piwik.properties</param-value>
    </init-param>
    <init-param>
      <param-name>actionName</param-name>
      <param-value>ChEBI SPARQL Endpoint</param-value>
    </init-param>
    <init-param>
      <param-name>replaceUrl</param-name>
      <param-value>#/chemweb/endpoint/([a-z]*)/#/$1/endpoint/#</param-value>
    </init-param>
  </filter>
  <filter-mapping>
    <filter-name>ChebiEndpointPiwikFilter</filter-name>
    <url-pattern>/endpoint/sachem/chebi</url-pattern>
    <url-pattern>/endpoint/sparql/chebi</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>ChemblEndpointPiwikFilter</filter-name>
    <filter-class>cz.iocb.chemweb.server.filters.piwik.PiwikFilter</filter-class>
    <init-param>
      <param-name>siteId</param-name>
      <param-value>1</param-value>
    </init-param>
    <init-param>
      <param-name>hostUrl</param-name>
      <param-value>http://localhost/piwik/piwik.php</param-value>
    </init-param>
    <init-param>
      <param-name>authToken</param-name>
      <param-value>piwik.properties</param-value>
    </init-param>
    <init-param>
      <param-name>actionName</param-name>
      <param-value>ChEMBL SPARQL Endpoint</param-value>
    </init-param>
    <init-param>
      <param-name>replaceUrl</param-name>
      <param-value>#/chemweb/endpoint/([a-z]*)/#/$1/endpoint/#</param-value>
    </init-param>
  </filter>
  <filter-mapping>
    <filter-name>ChemblEndpointPiwikFilter</filter-name>
    <url-pattern>/endpoint/sachem/chembl</url-pattern>
    <url-pattern>/endpoint/sparql/chembl</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>DrugbankEndpointPiwikFilter</filter-name>
    <filter-class>cz.iocb.chemweb.server.filters.piwik.PiwikFilter</filter-class>
    <init-param>
      <param-name>siteId</param-name>
      <param-value>1</param-value>
    </init-param>
    <init-param>
      <param-name>hostUrl</param-name>
      <param-value>http://localhost/piwik/piwik.php</param-value>
    </init-param>
    <init-param>
      <param-name>authToken</param-name>
      <param-value>piwik.properties</param-value>
    </init-param>
    <init-param>
      <param-name>actionName</param-name>
      <param-value>DrugBank SPARQL Endpoint</param-value>
    </init-param>
    <init-param>
      <param-name>replaceUrl</param-name>
      <param-value>#/chemweb/endpoint/([a-z]*)/#/$1/endpoint/#</param-value>
    </init-param>
  </filter>
  <filter-mapping>
    <filter-name>DrugbankEndpointPiwikFilter</filter-name>
    <url-pattern>/endpoint/sachem/drugbank</url-pattern>
    <url-pattern>/endpoint/sparql/drugbank</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>PubchemEndpointPiwikFilter</filter-name>
    <filter-class>cz.iocb.chemweb.server.filters.piwik.PiwikFilter</filter-class>
    <init-param>
      <param-name>siteId</param-name>
      <param-value>1</param-value>
    </init-param>
    <init-param>
      <param-name>hostUrl</param-name>
      <param-value>http://localhost/piwik/piwik.php</param-value>
    </init-param>
    <init-param>
      <param-name>authToken</param-name>
      <param-value>piwik.properties</param-value>
    </init-param>
    <init-param>
      <param-name>actionName</param-name>
      <param-value>PubChem SPARQL Endpoint</param-value>
    </init-param>
    <init-param>
      <param-name>replaceUrl</param-name>
      <param-value>#/chemweb/endpoint/([a-z]*)/#/$1/endpoint/#</param-value>
    </init-param>
  </filter>
  <filter-mapping>
    <filter-name>PubchemEndpointPiwikFilter</filter-name>
    <url-pattern>/endpoint/sachem/pubchem</url-pattern>
    <url-pattern>/endpoint/sparql/pubchem</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>EmptyEndpointPiwikFilter</filter-name>
    <filter-class>cz.iocb.chemweb.server.filters.piwik.PiwikFilter</filter-class>
    <init-param>
      <param-name>siteId</param-name>
      <param-value>1</param-value>
    </init-param>
    <init-param>
      <param-name>hostUrl</param-name>
      <param-value>http://localhost/piwik/piwik.php</param-value>
    </init-param>
    <init-param>
      <param-name>authToken</param-name>
      <param-value>piwik.properties</param-value>
    </init-param>
    <init-param>
      <param-name>actionName</param-name>
      <param-value>Empty SPARQL Endpoint</param-value>
    </init-param>
    <init-param>
      <param-name>replaceUrl</param-name>
      <param-value>#/chemweb/endpoint/([a-z]*)/#/$1/endpoint/#</param-value>
    </init-param>
  </filter>
  <filter-mapping>
    <filter-name>EmptyEndpointPiwikFilter</filter-name>
    <url-pattern>/endpoint/sachem/empty</url-pattern>
    <url-pattern>/endpoint/sparql/empty</url-pattern>
  </filter-mapping>


  <!-- Servlets -->
   <servlet>
    <servlet-name>CheckServiceServlet</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.services.check.CheckServiceImpl</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>CheckServiceServlet</servlet-name>
    <url-pattern>/chemweb/check</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>QueryServiceServlet</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.services.query.QueryServiceImpl</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>QueryServiceServlet</servlet-name>
    <url-pattern>/chemweb/query</url-pattern>
  </servlet-mapping>

   <servlet>
    <servlet-name>DetailsPageServiceServlet</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.services.details.DetailsPageServiceImpl</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>DetailsPageServiceServlet</servlet-name>
    <url-pattern>/chemweb/details</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>CompoundImage</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.sources.CompoundImageServlet</servlet-class>
    <init-param>
      <param-name>configClass</param-name>
      <param-value>cz.iocb.chemweb.server.sparql.pubchem.PubChemConfiguration</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>CompoundImage</servlet-name>
    <url-pattern>/compound/image</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>Config</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.config.GenerateConfig</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>Config</servlet-name>
    <url-pattern>/chemweb/js/config.js</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>Hints</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.hints.GenerateHints</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>Hints</servlet-name>
    <url-pattern>/chemweb/js/sparql-hint-data.js</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>Examples</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.examples.GenerateExamples</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>Examples</servlet-name>
    <url-pattern>/chemweb/js/examples-data.js</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>DownloadServlet</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.download.DownloadServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>DownloadServlet</servlet-name>
    <url-pattern>/download/helper/query.sparql</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>ChebiEndpointServlet</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.endpoint.EndpointServlet</servlet-class>
    <init-param>
      <param-name>configClass</param-name>
      <param-value>cz.iocb.chemweb.server.sparql.config.sachem.ChebiConfiguration</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>ChebiEndpointServlet</servlet-name>
    <url-pattern>/endpoint/sachem/chebi</url-pattern>
    <url-pattern>/endpoint/sparql/chebi</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>ChemblEndpointServlet</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.endpoint.EndpointServlet</servlet-class>
    <init-param>
      <param-name>configClass</param-name>
      <param-value>cz.iocb.chemweb.server.sparql.config.sachem.ChemblConfiguration</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>ChemblEndpointServlet</servlet-name>
    <url-pattern>/endpoint/sachem/chembl</url-pattern>
    <url-pattern>/endpoint/sparql/chembl</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>DrugbankEndpointServlet</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.endpoint.EndpointServlet</servlet-class>
    <init-param>
      <param-name>configClass</param-name>
      <param-value>cz.iocb.chemweb.server.sparql.config.sachem.DrugbankConfiguration</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>DrugbankEndpointServlet</servlet-name>
    <url-pattern>/endpoint/sachem/drugbank</url-pattern>
    <url-pattern>/endpoint/sparql/drugbank</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>PubChemEndpointServlet</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.endpoint.EndpointServlet</servlet-class>
    <init-param>
      <param-name>configClass</param-name>
      <param-value>cz.iocb.chemweb.server.sparql.config.sachem.PubChemConfiguration</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>PubChemEndpointServlet</servlet-name>
    <url-pattern>/endpoint/sachem/pubchem</url-pattern>
    <url-pattern>/endpoint/sparql/pubchem</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>EmptyEndpointServlet</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.endpoint.EndpointServlet</servlet-class>
    <init-param>
      <param-name>configClass</param-name>
      <param-value>cz.iocb.chemweb.server.sparql.config.empty.EmptyConfiguration</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>EmptyEndpointServlet</servlet-name>
    <url-pattern>/endpoint/sachem/empty</url-pattern>
    <url-pattern>/endpoint/sparql/empty</url-pattern>
  </servlet-mapping>


  <servlet>
    <servlet-name>SachemEndpointStatisticsServlet</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.endpoint.SachemEndpointStatisticsServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>SachemEndpointStatisticsServlet</servlet-name>
    <url-pattern>/endpoint/statistics.json</url-pattern>
  </servlet-mapping>


  <servlet>
    <servlet-name>ChebiCompoundImage</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.sources.CompoundImageServlet</servlet-class>
    <init-param>
      <param-name>configClass</param-name>
      <param-value>cz.iocb.chemweb.server.sparql.config.sachem.ChebiConfiguration</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>ChebiCompoundImage</servlet-name>
    <url-pattern>/chebi/compound/image</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>ChemblCompoundImage</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.sources.CompoundImageServlet</servlet-class>
    <init-param>
      <param-name>configClass</param-name>
      <param-value>cz.iocb.chemweb.server.sparql.config.sachem.ChemblConfiguration</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>ChemblCompoundImage</servlet-name>
    <url-pattern>/chembl/compound/image</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>DrugbankCompoundImage</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.sources.CompoundImageServlet</servlet-class>
    <init-param>
      <param-name>configClass</param-name>
      <param-value>cz.iocb.chemweb.server.sparql.config.sachem.DrugbankConfiguration</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>DrugbankCompoundImage</servlet-name>
    <url-pattern>/drugbank/compound/image</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>PubChemCompoundImage</servlet-name>
    <servlet-class>cz.iocb.chemweb.server.servlets.sources.CompoundImageServlet</servlet-class>
    <init-param>
      <param-name>configClass</param-name>
      <param-value>cz.iocb.chemweb.server.sparql.config.sachem.PubChemConfiguration</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>PubChemCompoundImage</servlet-name>
    <url-pattern>/pubchem/compound/image</url-pattern>
  </servlet-mapping>


  <!-- Default page to serve -->
  <welcome-file-list>
    <welcome-file>Chemweb.html</welcome-file>
  </welcome-file-list>

</web-app>
